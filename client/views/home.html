<template name="home">

    <!-- let's show the latest game that was played -->
    <div class="display-panel">
	    <div class="page-container">
	      {{#each latest_game}}
	      		<div class="display-num"><p class="game-no">{{game_no}}</p></div>
	            <h1 class="h1"><a href="players/{{game_winner}}">{{game_winner_name}}</a> just beat <a href="players/{{game_loser}}">{{game_loser_name}}</a> in game {{game_no}}</h1>

	            <div class="display-game-box">{{>game}}</div>
	      {{/each}}
	    </div><!-- page-container -->
    </div><!-- display-panel -->


<div class="page-container">
    <!-- and now onto the leaderboards -->
    <h2 class="fancy-header">Leaderboards</h2>


<div class="split-two">

<div class="media-block">
    <h3 class="h3">Current streaks</h3>
    <table class="table">
        <thead>
            <th>Player</th>
            <th>Streak</th>
        </thead>
        <tbody>
            {{#each player_streaks}}
            <tr>
                <td>{{name}}</td>
                <td>{{current_streak}}</td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div><!-- media-block-->

<div class="media-block">
      <h3 class="h3">Longest streaks</h3>
      <table class="table">
	      <thead>
	          <th>Player</th>
	          <th>Win Streak</th>
	          <th>Losing Streak</th>
	      </thead>
	      <tbody>
	      {{#each player_streaks}}
	      <tr>
	        <td>{{name}}</td>
	        <td>{{win_streak_record}}</td>
	        <td>{{loss_streak_record}}</td>
	      </tr>
	      {{/each}}
	      </tbody>
      </table>
</div><!-- media-block-->

<div class="media-block">
      <h3 class="h3">Most Wins</h3>
      <table class="table">
      	<thead>
      		<th>Player</th>
      		<th>Wins</th>
      		<th>Losses</th>
      		<th>Win %</th>
    	</thead>
    	<tbody>
		      {{#each game_leaders}}
		      <tr>
		      	<td>{{name}}</td>
		      	<td>{{games_won}}</td>
		      	<td>{{games_lost}}</td>
		      	<td>{{game_avg}}</td>
		      </tr>
		      {{/each}}
		</tbody>
      </table>
</div><!-- media-block-->

<div class="media-block">
      <h3 class="h3">Most Goals</h3>
      <table class="table">
      	<thead>
      		<th>Player</th>
      		<th>Goals Scored</th>
      		<th>Goals Allowed</th>
      		<th>Goals / Game</th>
    	</thead>
    	<tbody>
      {{#each goal_leaders}}
      <tr>
      	<td>{{name}}</td>
      	<td>{{goals_scored}}</td>
      	<td>{{goals_allowed}}</td>
      	<td>{{gpg_avg}}</td>
      </tr>
      {{/each}}
      </tbody>
      </table>
</div><!-- media-block-->

<div class="media-block">
      <h3 class="h3">Best defense</h3>
      <table class="table">
      	<thead>
      		<th>Player</th>
      		<th>Goals allowed</th>
      		<th>Goals Scored</th>
      		<th>Games_won</th>
      		<th>GA avg</th>
    	</thead>
    	<tbody>
      {{#each defense_leaders}}
      <tr>
      	<td>{{name}}</td>
      	<td>{{goals_allowed}}</td>
      	<td>{{goals_scored}}</td>
      	<td>{{games_won}}</td>
      	<td>{{gapg_avg}}</td>
      </tr>
      {{/each}}
      </tbody>
      </table>
</div><!-- media-block-->

<div class="media-block">
    <h3 class="h3">Best fighter</h3>
      <table class="table">
      	<thead>
      		<th>Player</th>
      		<th>Fights Won</th>
      		<th>Fights Lost</th>
      		<th>Fights / Game</th>
      		<th>Fight avg</th>
    	</thead>
    	<tbody>
            {{#each fight_leaders}}
            <tr>
              	<td>{{name}}</td>
              	<td>{{fights_won}}</td>
              	<td>{{fights_lost}}</td>
              	<td>{{fpg_avg}}</td>
              	<td>{{fight_avg}}</td>
           </tr>
             {{/each}}
            </tbody>
        </table>
</div><!-- media-block -->
</div><!-- split-two -->
</div><!-- page-container -->


<div class="display-panel">
    <div class="page-container">
    <h2 class="fancy-header dark">Overall Stats</h2>


    <div class="split-three">
      {{#each meta_stats}}
  		<div class="media-block">
          <div class="big-number">
          	<span class="number">{{games_tot}}</span><span class="descrip">games</span>
          </div>
        </div>

  		<div class="media-block">
          <div class="big-number">
          	<span class="number">{{goals_tot}}</span><span class="descrip">goals</span>
          </div>
        </div>

  		<div class="media-block">
          <div class="big-number">
          	<span class="number">{{fights_tot}}</span><span class="descrip">fights</span>
          </div>
        </div>

        <div class="media-block">
          <div class="big-number">
          	<span class="number">{{gos_tot}}</span><span class="descrip">goals on self</span>
          </div>
        </div>

        <div class="media-block">
          <div class="big-number">
          	<span class="number">{{gpg_avg}}</span><span class="descrip">goals per game</span>
          </div>
        </div>

        <div class="media-block">
          <div class="big-number">
          	<span class="number">{{fpg_avg}}</span><span class="descrip">fights per game</span>
          </div>
        </div>
      {{/each}}
  	</div><!-- big-numbers -->
  	</div><!-- page-container -->
</div>

</template>